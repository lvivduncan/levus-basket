// basket.js 15-12-19
(() => {

//  перебираємо усі товари зі сторінки
document.querySelectorAll('.item').forEach(item => {
	item.addEventListener('click', e => {
		// батон
		const btn = item.querySelector('.button');
		// розмір
		const size = item.querySelector('.sizes select').value;
		// клік на кнопці батона
		if (e.target === btn) {
			add(btn.dataset.name, btn.dataset.price, btn.dataset.img, size);
		}
	});
});

// кнопка очистки локалСтореджа
document.querySelector('#del-goods').addEventListener('click', clear);

// функція, яка додає товар у кошик по кліку на кнопці "баттон"
function add(name = '', price = '', img = '', size = ''){
	if (localStorage.getItem('basket') !== null) {
		localStorage.basket += `|${name}|${price}|${img}|${size}`; // якщо якісь дані у кошику вже є
	} else {
		localStorage.basket = `${name}|${price}|${img}|${size}`; // якщо нема ніц
	}
}

// функція виводу даних у кошик з локалСторедж
function wiev(){

}

// видаляємо по 1 товару з кошика
function remove(){

}

// очищаємо локалСторедж
function clear(e){
	e.preventDefault();
	localStorage.clear();
}

})();
// end
